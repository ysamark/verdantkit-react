import{j as a}from"./jsx-runtime-Cw0GR0a5.js";import{r as o}from"./index-CTjT7uj6.js";import{b as C,a as g}from"./index-DuhVpxmO.js";const S=r=>{const[e,n]=o.useState(0),[t,i]=o.useState(!1),[s,u]=o.useState([r.home]);o.useEffect(()=>{},[t]);const d=c=>{i(!0),setTimeout(()=>{i(!1),c()},400)};return{props:r,screen:e,navigating:t,get stack(){return s.slice(0,e+1)},back(){e>=1&&d(()=>n(e-1))},forward(){e<s.length-1&&d(()=>n(e+1))},canGoBack(){return e>=1},canGoForward(){return s.length>e+1},getCurrentScreen(){return s[e]},goto(c){this.isCurrentScreen(c)||d(()=>{n(e+1),u([...s.slice(0,e+1),c])})},goToHome(){d(()=>{n(0),u(s.slice(0,1))})},isCurrentScreen(c){return this.getCurrentScreen()===c}}},v=o.createContext({}),N=r=>{const e=S(r);return a.jsx(v.Provider,{...r,value:e})};N.__docgenInfo={description:"",methods:[],displayName:"NavigationContextProvider"};const l=()=>o.useContext(v),f=o.forwardRef(function({to:e,...n},t){const i=l();if(typeof i.isCurrentScreen!="function")throw new Error("RenderError: NavigationButton should only be rendered inside a Navigation wrapper");const u=i.isCurrentScreen(e)?!0:n.disabled,d=c=>{switch(c.preventDefault(),e){case":back":i.back();break;case":forward":i.forward();break;case":home":i.goToHome();break;case":void":break;default:i.goto(e);break}typeof n.onClick=="function"&&n.onClick(c)};return a.jsx("button",{...n,ref:t,type:"button",role:"button",disabled:u,onClick:d,children:n.children})});f.__docgenInfo={description:"",methods:[],displayName:"NavigationButton"};const k=o.forwardRef(function(e,n){const t=l();if(typeof t.isCurrentScreen!="function")throw new Error("RenderError: NavigationBack component should only be rendered inside a Navigation wrapper");return a.jsx(f,{...e,to:":back",ref:n,disabled:!t.canGoBack(),children:e.children})});k.__docgenInfo={description:"",methods:[],displayName:"NavigationBack"};const h=o.forwardRef(function(e,n){if(typeof l().isCurrentScreen!="function")throw new Error("RenderError: NavigationFooter should only be rendered inside a Navigation wrapper");return a.jsx("div",{...e,ref:n,children:e.children})});h.__docgenInfo={description:"",methods:[],displayName:"NavigationFooter"};const R=o.forwardRef(function(e,n){const t=l();if(typeof t.isCurrentScreen!="function")throw new Error("RenderError: NavigationForward component should only be rendered inside a Navigation wrapper");return a.jsx(f,{...e,to:":forward",ref:n,disabled:!t.canGoForward(),children:e.children})});R.__docgenInfo={description:"",methods:[],displayName:"NavigationForward"};const m=o.forwardRef(function(e,n){if(typeof l().isCurrentScreen!="function")throw new Error("RenderError: NavigationHeader should only be rendered inside a Navigation wrapper");return a.jsx("div",{...e,ref:n,children:e.children})});m.__docgenInfo={description:"",methods:[],displayName:"NavigationHeader"};const w=r=>l().navigating?a.jsx("div",{className:"w-full transition-transform animate-out",children:a.jsx("div",{className:"-translate-x-full animate-[slideToLeft_.3s_linear]",children:r.children})}):a.jsx(o.Fragment,{children:r.children});w.__docgenInfo={description:"",methods:[],displayName:"NavigationRootContentWrapper"};const x=o.forwardRef(function({name:e,...n},t){const i=l();if(typeof i.isCurrentScreen!="function")throw new Error("RenderError: NavigationScreen should only be rendered inside a Navigation wrapper");return i.isCurrentScreen(e)?a.jsx("div",{...n,ref:t,children:n.children}):null});x.__docgenInfo={description:"",methods:[],displayName:"NavigationScreen"};const y=o.forwardRef(function(e,n){const[t,i]=o.useState({}),s=l(),u=C(e.children,x),d=g(e.children,m),c=g(e.children,h);o.useEffect(()=>{if(!s.navigating)return i({});i({overflowX:"clip",overflowY:"visible"})},[s.navigating]);const b=e.style||{};return a.jsxs("div",{...e,ref:n,style:{...b,...t},children:[d,a.jsx(w,{children:u}),c]})});y.__docgenInfo={description:"",methods:[],displayName:"NavigationRoot"};const _=o.forwardRef(function({home:e,...n},t){return a.jsx(N,{home:e,...n,children:a.jsx(y,{...n,ref:t,children:n.children})})});_.__docgenInfo={description:"",methods:[],displayName:"Navigation"};export{_ as N,m as a,x as b,h as c,k as d,f as e,l as u};
